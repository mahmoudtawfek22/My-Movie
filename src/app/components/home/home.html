@if (isLoading()) {

<section>
  <div class="d-flex flex-column justify-content-center box">
    <h2>Top Rated</h2>
    <owl-carousel-o
      [options]="customOptions"
      (dragging)="onDrag(false)"
      (translated)="onDragEnd(true)"
    >
      @for (item of topRatedMovies(); track item.id) {
      <ng-template carouselSlide>
        <app-card
          [isHome]="true"
          tabindex="0"
          [data$]="item"
          [index]="$index"
          (click)="go('./movie-details', item.id)"
          [ariaLabel]="item.title"
          appStructuredDataDirective
          [appStructuredData]="{
            '@context': 'https://schema.org',
            '@type': 'Movie',
            name: item.title,
            image: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,
            description: item.overview,
            datePublished: item.release_date,
            aggregateRating: {
              '@type': 'AggregateRating',
              ratingValue: item.vote_average,
              ratingCount: item.vote_count
            }
          }"
        ></app-card> </ng-template
      >}
    </owl-carousel-o>

    <owl-carousel-o
      [options]="customOptions"
      (dragging)="onDrag(false)"
      (translated)="onDragEnd(true)"
    >
      @for (item of topRatedSeries(); track item.id) {
      <ng-template carouselSlide>
        <app-card
          [isHome]="true"
          tabindex="0"
          appStructuredDataDirective
          [appStructuredData]="{
            '@context': 'https://schema.org',
            '@type': 'TVSeries',
            title: item.name,
            image: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,
            description: item.overview,
            datePublished: item.first_air_date,
            genre: item.genre_ids,
            aggregateRating: {
              '@type': 'AggregateRating',
              ratingValue: item.vote_average,
              ratingCount: item.vote_count
            }
          }"
          (keydown.enter)="go('./series-details', item.id)"
          class="col-lg-3 col-md-4 col-sm-6 col-12"
          [data$]="item"
          [index]="$index"
          [ariaLabel]="item.name"
        ></app-card> </ng-template
      >}
    </owl-carousel-o>
  </div>
  <div class="d-flex flex-column justify-content-center box">
    <h2>Popular</h2>
    <owl-carousel-o
      [options]="customOptions"
      (dragging)="onDrag(false)"
      (translated)="onDragEnd(true)"
    >
      @for (item of popularMovies(); track item.id) {
      <ng-template carouselSlide>
        <app-card
          [isHome]="true"
          tabindex="0"
          [data$]="item"
          [index]="$index"
          (keydown.enter)="go('./movies-details', item.id)"
          [ariaLabel]="item.title"
          appStructuredDataDirective
          [appStructuredData]="{
            '@context': 'https://schema.org',
            '@type': 'Movie',
            name: item.title,
            image: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,
            description: item.overview,
            datePublished: item.release_date,
            aggregateRating: {
              '@type': 'AggregateRating',
              ratingValue: item.vote_average,
              ratingCount: item.vote_count
            }
          }"
        ></app-card></ng-template
      >}
    </owl-carousel-o>

    <owl-carousel-o
      [options]="customOptions"
      (dragging)="onDrag(false)"
      (translated)="onDragEnd(true)"
    >
      @for (item of popularSeries(); track item.id) {
      <ng-template carouselSlide>
        <app-card
          [isHome]="true"
          tabindex="0"
          appStructuredDataDirective
          [appStructuredData]="{
            '@context': 'https://schema.org',
            '@type': 'TVSeries',
            title: item.name,
            image: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,
            description: item.overview,
            datePublished: item.first_air_date,
            genre: item.genre_ids,
            aggregateRating: {
              '@type': 'AggregateRating',
              ratingValue: item.vote_average,
              ratingCount: item.vote_count
            }
          }"
          (keydown.enter)="go('./series-details', item.id)"
          class="col-lg-3 col-md-4 col-sm-6 col-12"
          [data$]="item"
          [index]="$index"
          [ariaLabel]="item.name"
        ></app-card> </ng-template
      >}
    </owl-carousel-o>
  </div>
</section>
}@else{

<div
  style="height: 80vh"
  class="d-flex justify-content-center align-items-center w-100"
>
  <div class="spinner-grow text-primary" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-secondary" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-success" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-danger" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-warning" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-info" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-light" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-dark" role="status">
    <span class="sr-only"></span>
  </div>
  <div class="spinner-grow text-dark" role="status">
    <span class="sr-only"></span>
  </div>
</div>
}
